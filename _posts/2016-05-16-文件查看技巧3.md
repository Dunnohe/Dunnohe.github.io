---
layout:     post
title:      "linux下文件查看技巧"
subtitle:   " \"3-了解sed和awk的用法\""
date:       2016-05-16 17:00:00
author:     "Dunno"
header-img: "img/post-bg-2015.jpg"
tags:
    - Linux
---
# 背景
<p>在工作中我们经常需要查看日志来迅速的定位问题,同时发生故障时我们要经常的统计日志中相关的内容，那么掌握一些常用的日志操作命令就非常必要了。</p>

<p>之前了解了常用的几个统计读取日志的命令以及正则表达式,这节了解一下非常强大的两个命令,一个是sed,一个是awk,这两个命令能够完成绝大部分的关键词的取用和统计。</p>

# sed命令
<pre><code>
功能：管道流编辑器,它可以读指定的文件或者标准输入流,通过一系列的命名可以去修改读到的输入,然后再将修改后的输入进行输出。
选项参数：
-A num 	把每处匹配的后面num几行打出来
-B num  把每处匹配的前面几行打出来
-C num  等效于 -A num -B num
-c 把匹配的个数打出来
--color=auto 把匹配部分的颜色打出来
-e pattern pattern是正则表达式，符合的打出来
-i 不考虑大小写来匹配
-m num 最大匹配次数
-n 把行号打印出来
-v 反向匹配
-o 正则
eg:
grep -nC 2 -i -m 3 -color=auto "exception" error.log 
</code></pre>

# awk命令
<pre><code>
功能：这里我只介绍工作中我最最常用到的用法,如果想了解最详细的用法,可以使用man awk查看。
选项参数：
-A num 	把每处匹配的后面num几行打出来
-B num  把每处匹配的前面几行打出来
-C num  等效于 -A num -B num
-c 把匹配的个数打出来
--color=auto 把匹配部分的颜色打出来
-e pattern pattern是正则表达式，符合的打出来
-i 不考虑大小写来匹配
-m num 最大匹配次数
-n 把行号打印出来
-v 反向匹配
-o 正则
eg:
grep -nC 2 -i -m 3 -color=auto "exception" error.log 
</code></pre>


 